<template>
  <require from="../components/markdown"></require>
  <h2>Episode ${ep.number}</h2>
  <div class="left episodeform">
    <form role="form" submit.delegate="submit()">
      <div>
        <input type="text" class="form-control" style="width: 4em"
          placeholder="number" value.bind="ep.number">
        <ul class="error" if.bind="errors.number">
          <li repeat.for="err of errors.number">${err}</li>
        </ul>
      </div>
      <div>
        <input type="text" class="form-control" style="width: 15em"
          placeholder="record date (YYYY-MM-DD)" value.bind="ep.record_date">
        <ul class="error" if.bind="errors.record_date">
          <li repeat.for="err of errors.record_date">${err}</li>
        </ul>
      </div>
      <div>
        <input type="text" class="form-control"
          placeholder="title" value.bind="ep.title">
        <ul class="error" if.bind="errors.title">
          <li repeat.for="err of errors.title">${err}</li>
        </ul>
      </div>
      <div>
        <input type="text" class="form-control"
          placeholder="filename" value.bind="ep.filename">
        <ul class="error" if.bind="errors.filename">
          <li repeat.for="err of errors.filename">${err}</li>
        </ul>
      </div>
      <div>
        <textarea rows="12" class="form-control"
          placeholder="description" value.bind="ep.description">
        </textarea>
      </div>
      <!-- <input type="hidden" value.bind="ep.show_id"> -->
      <input type="submit">
    </form>
  </div>
  <div class="right">
    <div class="loader" if.bind="loading">
      <i class="fa fa-spinner fa-spin fa-2x"></i>
    </div>
    <markdown model.bind="ep.description"></markdown>
    <p class="mp3tagsmsg" if.bind="tagsmsg">${tagsmsg}</p>
    <div class="mp3tags" if.bind="tags">
      <li repeat.for="key of tagkeys">
        <span class="key">${key}</span>
        <span if.bind="tags[key]">${tags[key]}</span>
        <span if.bind="!tags[key]"><em>empty</em></span>
      </li>
    </div>
  </div>
  <p class="clearer">&nbsp;</p>
</template>
